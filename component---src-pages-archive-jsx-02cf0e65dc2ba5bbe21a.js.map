{"version":3,"sources":["webpack:///./src/components/issue/index.jsx","webpack:///./src/components/icon/share.icon","webpack:///./src/components/icon/download.icon","webpack:///./src/pages/archive.jsx"],"names":["Issue","issue","d","Date","date_of_issue","formatedDate","showMonthDate","className","href","withPrefix","path","target","number","title","toUpperCase","symbol","add","getShareUri","encodeURIComponent","ArchivePage","props","data","allDataJson","edges","node","issues","sort","a","b","currentIssue","length","undefined","bg","React","createRef","share","download","showIssue","this","current","src","archive_img","alt","render","map","key","onMouseEnter","bind","ref","icon","Download","width","height","fill","Share","Component","pageQuery"],"mappings":"0KA8BeA,G,UAvBD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACTC,EAAI,IAAIC,KAAKF,EAAMG,eACnBC,EAAeC,YAAcJ,GACnC,OACE,6BAASK,UAAU,SACjB,uBAAGC,KAAMC,YAAWR,EAAMS,MAAOC,OAAO,UAAxC,KACKV,EAAMW,OADX,MACsBP,EACpB,6BACCJ,EAAMY,MAAMC,kB,kECbjBC,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,YACX,QAAW,miBAGE,GADF,IAAOC,IAAID,GACT,GCPX,EAAS,IAAI,IAAa,CAC5B,GAAM,WACN,IAAO,iBACP,QAAW,YACX,QAAW,6NAGE,GADF,IAAOC,IAAI,GACT,G,0CCAf,IAIMC,EAAc,SAAChB,GACnB,IAAMS,EAAI,yCAA4CT,EAAMW,OAC5D,MAAM,qCAAsCM,mBAAmBR,IAG3DS,E,oBACJ,WAAYC,GAAQ,IAAD,EACjB,cAAMA,IAAN,KACA,IAAMC,EAAOD,EAAMC,KAAKC,YAAYC,MAAM,GAAGC,KAF5B,OAGjB,EAAKC,OAASJ,EAAKI,OAAOC,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEhB,OAASe,EAAEf,UACtD,EAAKiB,aAAe,EAAKJ,OAAOK,OAAS,EAAKL,OAAO,QAAKM,EAC1D,EAAKC,GAAKC,IAAMC,YAChB,EAAKC,MAAQF,IAAMC,YACnB,EAAKE,SAAWH,IAAMC,YAPL,E,kHAUnBG,UAAA,SAAUpC,GACRqC,KAAKN,GAAGO,QAAQC,IAAM/B,YAAWR,EAAMwC,aACvCH,KAAKN,GAAGO,QAAQG,IAAMzC,EAAMY,MAC5ByB,KAAKH,MAAMI,QAAQ/B,KAAOS,EAAYhB,GACtCqC,KAAKF,SAASG,QAAQ/B,KAAOC,YAAWR,EAAMS,O,EAGhDiC,OAAA,WAAU,IAAD,OACP,OACE,0BAAMpC,UAAU,OACd,kBAAC,IAAD,CAAQM,MA9BG,6BA+BX,yBAAKN,UAAU,+BACb,4BACG+B,KAAKb,OAAOmB,KAAI,SAAA3C,GAAK,OACpB,wBAAI4C,IAAG,gBAAkB5C,EAAMW,OAAUkC,aAAc,EAAKT,UAAUU,KAAK,EAAM9C,IAC/E,kBAAC,EAAD,CAAOA,MAAOA,UAKtB,yBAAKM,UAAU,6BACb,0BAAMA,UAAU,wBACd,uBAAGA,UAAU,MAAMyC,IAAKV,KAAKF,SAAUzB,OAAO,SAASH,KAAMC,YAAW6B,KAAKT,aAAanB,MAAO0B,UAAQ,GACvG,kBAAC,IAAD,CAAMa,KAAMC,EAAUC,MA1ClB,GA0CoCC,OA1CpC,GA0CuDC,KAzCtD,WA2CP,6BACA,uBAAG9C,UAAU,MAAMyC,IAAKV,KAAKH,MAAOxB,OAAO,SAASH,KAAMS,EAAYqB,KAAKT,eACzE,kBAAC,IAAD,CAAMoB,KAAMK,EAAOH,MA9Cf,GA8CiCC,OA9CjC,GA8CoDC,KA7CnD,YAgDT,uBAAG7C,KAAMC,YAAW6B,KAAKT,aAAanB,OACpC,yBAAKsC,IAAKV,KAAKN,GAAIzB,UAAU,kBAAkBiC,IAAK/B,YAAW6B,KAAKT,aAAaY,aAAcC,IAAKJ,KAAKT,aAAahB,Y,GA1CxGoB,IAAMsB,WAoDnBC,GAFErC,YAEO","file":"component---src-pages-archive-jsx-02cf0e65dc2ba5bbe21a.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withPrefix } from 'gatsby';\nimport { showMonthDate } from '../utils';\n\nimport './issue.scss';\n\nconst Issue = ({ issue }) => {\n  const d = new Date(issue.date_of_issue);\n  const formatedDate = showMonthDate(d);\n  return (\n    <article className=\"issue\">\n      <a href={withPrefix(issue.path)} target=\"_blank\">\n        N°{issue.number} — {formatedDate}\n        <br />\n        {issue.title.toUpperCase()}\n      </a>\n    </article>\n  );\n};\n\nIssue.propTypes = {\n  issue: PropTypes.shape({\n    number: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    date_of_issue: PropTypes.string.isRequired,\n    path: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Issue;\n","import SpriteSymbol from \"../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"share\",\n  \"use\": \"share-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"share\\\">\\n<path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" />\\n<path d=\\\"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\\\" />\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"download\",\n  \"use\": \"download-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"download\\\"><path fill=\\\"none\\\" d=\\\"M0 0h24v24H0V0z\\\" /><path fill=\\\"#010101\\\" d=\\\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { graphql, withPrefix } from 'gatsby';\nimport React from 'react';\nimport Helmet from 'react-helmet';\nimport Issue from '../components/issue';\nimport Icon from '../components/icon';\nimport Facebook from '../components/icon/facebook.icon';\nimport Share from '../components/icon/share.icon';\nimport Download from '../components/icon/download.icon';\n\nconst PAGE_TITLE = 'Archives | Figure Figure';\nconst ICON_SIZE = 24;\nconst ICON_COLOR = 'black';\n\nconst getShareUri = (issue) => {\n  const path = `https://figurefigure.fr/#!publication/${issue.number}`;\n  return `https://facebook.com/sharer.php?u=${encodeURIComponent(path)}`;\n};\n\nclass ArchivePage extends React.Component {\n  constructor(props) {\n    super(props);\n    const data = props.data.allDataJson.edges[0].node;\n    this.issues = data.issues.sort((a, b) => b.number - a.number);\n    this.currentIssue = this.issues.length ? this.issues[0] : undefined;\n    this.bg = React.createRef();\n    this.share = React.createRef();\n    this.download = React.createRef();\n  }\n\n  showIssue(issue) {\n    this.bg.current.src = withPrefix(issue.archive_img);\n    this.bg.current.alt = issue.title;\n    this.share.current.href = getShareUri(issue);\n    this.download.current.href = withPrefix(issue.path);\n  }\n\n  render() {\n    return (\n      <main className=\"row\">\n        <Helmet title={PAGE_TITLE} />\n        <div className=\"col-auto issue-grid vh-site\">\n          <ul>\n            {this.issues.map(issue => (\n              <li key={`archive item ${issue.number}`} onMouseEnter={this.showIssue.bind(this, issue)}>\n                <Issue issue={issue} />\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"col vh-site issue-content\">\n          <span className=\"h-100 issue-btn-list\">\n            <a className=\"btn\" ref={this.download} target=\"_blank\" href={withPrefix(this.currentIssue.path)} download>\n              <Icon icon={Download} width={ICON_SIZE} height={ICON_SIZE} fill={ICON_COLOR} />\n            </a>\n            <br />\n            <a className=\"btn\" ref={this.share} target=\"_blank\" href={getShareUri(this.currentIssue)}>\n              <Icon icon={Share} width={ICON_SIZE} height={ICON_SIZE} fill={ICON_COLOR} />\n            </a>\n          </span>\n          <a href={withPrefix(this.currentIssue.path)}>\n            <img ref={this.bg} className=\"h-100 issue_img\" src={withPrefix(this.currentIssue.archive_img)} alt={this.currentIssue.title} />\n          </a>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default ArchivePage;\n\nexport const pageQuery = graphql`\n  query {\n    allDataJson {\n      edges {\n        node {\n          issues {\n            number\n            title\n            date_of_issue\n            path\n            image_href\n            archive_img\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}